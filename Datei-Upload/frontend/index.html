<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Datei-Upload & QR-Sharing</title>
    <link rel="stylesheet" href="style/main.css" />
    <script src="https://kit.fontawesome.com/49e52d6f34.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body>
    <div class="grid-container">

        <!-- Link Settings -->
        <div class="settings-bg">
            <div class="settings">
                <label for="link-expiration">Link gültig für:</label>
                <select id="link-expiration">
                    <option value="300">5 Minuten</option>
                    <option value="900">15 Minuten</option>
                    <option value="1800">30 Minuten</option>
                    <option value="3600" selected>1 Stunde</option>
                    <option value="7200">2 Stunden</option>
                    <option value="14400">4 Stunden</option>
                    <option value="28800">8 Stunden</option>
                    <option value="43200">12 Stunden</option>
                </select>
                <br>
                <input type="password" name="password" placeholder="Passwort (optional)">
                <br>
                <input type="text" name="displayName" id="displayNameInput" placeholder="Anzeigename (optional)">
            </div>
        </div>

        <!-- Datei-Upload -->
        <div class="dropzone-bg">
            <div id="dropzone">
                <p id="dropzone-text">Datei hinein ziehen oder auswählen</p>
                <div class="file-icon"><i class="fa-regular fa-file-lines"></i></div>

                <input type="file" id="fileInput" multiple />
                <input type="file" id="folderInput" webkitdirectory directory multiple />
                <button id="customFileBtn">Dateien auswählen</button>
                <button id="upload-btn" type="button">Dateien hochladen</button><br>
                <p class="oder">Oder </p><a href="#" id="selectFolderLink">Verzeichnis hinzufügen</a>

                <p id="file-result"></p>
            </div>
        </div>

        <!-- Downloadbereich -->
        <div class="download-area-bg">
            <div id="download-area">
                <h1>Aktive Download-Links</h1>
                <ul id="active-links"></ul>
                <div class="button-group">
                    <p id="download-url"></p>
                    <button id="password-btn"><i class="fa-light fa-lock"></i></button>
                    <button id="qrcode-btn"><i class="fa-solid fa-qrcode"></i></button>
                    <button id="copy-link-btn"><i class="fa-regular fa-copy"></i></button>
                    <button id="delete-link-btn"><i class="fa-regular fa-trash-can"></i></button>
                </div>
            </div>
        </div>

        <!-- QR-Code -->
        <div class="qr-bg">
            <div class="qr-box" id="qr-box"></div>
        </div>

        <!-- PDF Vorschau Container -->
        <div class="vorschau-bg">
            <div id="vorschau">
                <div id="pdf-preview-fallback"></div>
                <h1>PDF Vorschau</h1>
                <button id="fullscreen-toggle" class="fullscreen-btn" title="Vollbild anzeigen">
                    <i class="fa-solid fa-expand"></i>
                </button>
                <iframe id="pdf-preview-frame" frameborder="0"></iframe>
            </div>
        </div>
    </div>

    <div id="delete-confirm-modal" class="modal hidden">
        <div class="modal-content">
            <p>Möchtest du den Download-Link wirklich löschen?</p>
            <button id="confirm-delete">Ja</button>
            <button id="cancel-delete">Abbrechen</button>
        </div>
    </div>


    <script src="js/background.js"></script>
    <script type="module" src="js/main.js"></script>
    <script src="js/qrcode.js"></script>
</body>

</html>